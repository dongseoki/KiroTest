(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&o(n)}).observe(document,{childList:!0,subtree:!0});function i(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(e){if(e.ep)return;e.ep=!0;const r=i(e);fetch(e.href,r)}})();class a{constructor(){this.appState={currentView:"dashboard",isOnline:navigator.onLine,lastSync:new Date,notifications:[]},this._settings={theme:"light",language:"ko",dataRetentionDays:365,autoBackup:!0,offlineMode:!1},this.init()}async init(){if(console.log("허리건강 관리 앱 초기화 중..."),"serviceWorker"in navigator)try{const t=await navigator.serviceWorker.register("/sw.js");console.log("Service Worker 등록 성공:",t)}catch(t){console.error("Service Worker 등록 실패:",t)}this.initializeEventListeners(),await this.loadAppData(),console.log("앱 초기화 완료")}initializeEventListeners(){document.querySelectorAll(".nav-link").forEach(t=>{t.addEventListener("click",i=>{var e;i.preventDefault();const o=(e=i.target.getAttribute("href"))==null?void 0:e.substring(1);o&&this.navigateTo(o)})}),window.addEventListener("online",()=>{this.appState.isOnline=!0,console.log("온라인 상태로 변경됨")}),window.addEventListener("offline",()=>{this.appState.isOnline=!1,console.log("오프라인 상태로 변경됨")})}navigateTo(t){document.querySelectorAll(".view").forEach(e=>e.classList.remove("active")),document.querySelectorAll(".nav-link").forEach(e=>e.classList.remove("active"));const i=document.getElementById(`${t}-view`),o=document.querySelector(`[href="#${t}"]`);i&&i.classList.add("active"),o&&o.classList.add("active"),this.appState.currentView=t}async loadAppData(){try{console.log("앱 데이터 로딩...")}catch(t){console.error("앱 데이터 로딩 실패:",t)}}}document.addEventListener("DOMContentLoaded",()=>{new a});
